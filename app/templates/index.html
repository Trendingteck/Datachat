<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataChat</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container py-4">
        <header class="text-center mb-5">
            <h1 class="display-4">DataChat</h1>
            <p class="lead">Chat with your data using AI</p>
        </header>

        <!-- File Upload Section -->
        <section id="file-upload" class="mb-5">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title h4 mb-3">Upload Your Data</h2>
                    <form action="/upload" method="POST" enctype="multipart/form-data">
                        <div class="input-group">
                            <input type="file" class="form-control" id="file-input" name="file" 
                                   accept=".csv, .xlsx" required>
                            <button class="btn btn-primary" type="submit" id="upload-btn">Upload</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Data Preview Section -->
        <section id="data-preview" class="mb-5 d-none">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title h4 mb-3">Data Preview</h2>
                    <div class="table-responsive">
                        <!-- Data preview will be inserted here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Model Configuration -->
        <section id="model-config" class="mb-5">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title h4 mb-3">AI Model Settings</h2>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label for="model-select" class="form-label">Choose Model:</label>
                            <select id="model-select" class="form-select">
                                <option value="gemini">Google Gemini</option>
                                <option value="mistral">Mistral AI</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label for="temperature" class="form-label">
                                Temperature: <span id="temp-value">0.7</span>
                            </label>
                            <input type="range" class="form-range" id="temperature" 
                                   min="0" max="1" step="0.1" value="0.7">
                        </div>
                        <div class="col-md-4">
                            <label for="max-tokens" class="form-label">Max Tokens:</label>
                            <input type="number" class="form-control" id="max-tokens" 
                                   min="50" max="1000" value="200">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chat Interface -->
        <section id="chat-interface">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title h4 mb-3">Chat with Your Data</h2>
                    <div id="chat-history" class="mb-3">
                        <!-- Messages will be inserted here -->
                    </div>
                    <form id="chat-form" class="mt-3">
                        <div class="input-group">
                            <input type="text" class="form-control" id="chat-input" 
                                   placeholder="Ask a question about your data..." required>
                            <button class="btn btn-primary" type="submit" id="send-btn">Send</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>